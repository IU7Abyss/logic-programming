- [Основа](#Основа)
    + [Где хранятся данные в программе?](#Где-хранятся-данные-в-программе)
    + [Что такое программа на пролог?](#Что-такое-программа-на-пролог)
    + [Что такое база знаний?](#Что-такое-база-знаний)
    + [Основная конструкция языка? (Что такое терм?)](#Основная-конструкция-языка-Что-такое-терм)
    + [Переменные в Prolog](#Переменные-в-Prolog)
    + [Что такое составной терм?](#Что-такое-составной-терм)
    + [Что такое правило?](#Что-такое-правило)
    + [Что такое факт?](#Что-такое-факт)
    + [Что такое процедура?](#Что-такое-рекурсивная-процедура)
    + [Что такое знание?](#Что-такое-знание)
    + [Как фиксируются объекты и связи между ними?](#Как-фиксируются-объекты-и-связи-между-ними)
- [Унификация](#Унификация)
    + [Что такое унификация? Что происходит после нахождения решения?](Что-такое-унификация-Что-происходит-после-нахождения-решения)
    + [Зачем проводится унификация?](#Зачем-проводится-унификация)
    + [Что с чем унифицируется?](#Какие-два-терма-унифицируются)
    + [Что получается в результате унификации?](Что-получается-в-результате-унификации)
    + [Что такое подстановка?](#Что-такое-подстановка)
    + [Что делается с этой подстановкой?](Что-делается-с-этой-подстановкой)
    + [Что такое резольвента?](#Что-такое-резольвента)
    + [Что такое редукция?](#Что-такое-редукция)
    + [Во всей резольвенте (стеке) применяется подстановка?](#Во-всей-резольвенте-стеке-применяется-подстановка)
    + [Как изменяется резольвента?](#Как-изменяется-резольвента)
    + [Чем завершается унификация?](#Чем-завершается-унификация)

## Основа
### Где хранятся данные в программе?
В базе знаний (в заголовках правил).

### Что такое программа на пролог?
Программа написанная на _Prolog_ состоит из:
- базы знаний
    - фактов;
    - правил;
- запросов.

### Что такое база знаний?
__База знаний__ - набор _фактов_ и _правил_ описывающие взаимоотношения некоторой предметной области.

### Основная конструкция языка? (Что такое терм?)
Основной конструкцией языка _Prolog_ является __терм__. 
- константы
    - атомы `mia , hit_this_Qb`
    - числа `[0-9]`
- переменные `X, Y, HitThisQ`
- составные термы `f(t_1, t_2, ... , t_n)`

### Переменные в Prolog
- __именованные__:
    1. могут передавать значение в пространстве и времени;
    2. уникальны в пределах предложения, в котором используются;
    3. синтаксис: начинаются с большой буквы;
- __анонимные__:
    1. не могут передавать значение в пространстве и времени;
    2. уникальны всегда;
    3. синтаксис: подчеркивание;

### Что такое составной терм?
__Составной терм__ - истинность утверждения, что между термами-аргументами есть _связь (отношение)_. _Функтор составного терма_ отражает __связь__ между термами-аргументами.

### Что такое правило?
1. _теорема_, условная истина;
2. состоит из `<заголовок правила> :- <тело правила>.`;
3. заголовок отражает отношение между аргументами (функтор - название отношения, аргументы - объекты отношения);
4. тело правила - конъюнкция (дизъюнкция) условий истинности.

### Что такое факт?
- _аксиома_, безусловная истина;
- правило, тело которого пустое (правило без тела).

### Что такое процедура?
__Процедура__ - совокупность фактов и правил, имеющих заголовок с одинаковыми главными функторами и одинаковой арностью (количество аргументов).

### Что такое рекурсивная процедура?
__Рекурсивная процедура__ - процедура, в теле одного из правил которой есть терм, унифицирующийся с термом из заголовка одного из правил процедуры.

### Что такое знание?
__Знание__ - заголовок правила (факта).

### Как фиксируются объекты и связи между ними?
__Объекты__ фиксируются термами-аргументами правила, а __связь__ - функтором заголовка правила.




## Унификация
### Что такое унификация? Что происходит после нахождения решения
__Унификация__ - является процессом доказательства, попытка "увидеть одинаковость". 

### Зачем проводится унификация?
- Унификация проводится для _получения знания_, с помощью которого можно _доказать цель_.

### Что с чем унифицируется? (Какие два терма унифицируются?)
Унифицируется текущая цель из резольвенты с знанием из базы знаний. (_см. определения знания_);

### Что получается в результате унификации?
Подстановка

### Что такое подстановка?
__Подстановка__ - множество пар вида `{x_i = t_i}`, где
- `x_i` - переменная;
- `t_i` - терм.

### Что делается с этой подстановкой?
Подстановку применяем к набору целей в _резольвенте_ после выполнения _редукции_, т.о. заменяем переменные значениями согласно подстановке.

### Что такое резольвента?
__Резольвента__ - конъюнкция целей (утверждений) истинность (выводимость) которых надо доказать.

### Что такое редукция?
__Редукция__ - замена цели телом того правила, заголовок которого унифицируется с целью

### Во всей резольвенте (стеке) применяется подстановка?
- Нет, подстановка применяется к полученному набору целей в _резольвенте_ после выполнения _редукции_.
- (? на глубину одного тела ?)

### Как изменяется резольвента?
Резольвента изменяется в два этапа:

1. В текущей резольвенте выбирается одна из _целей_ (по стековому принципу) и для неё выполняется _редукция_.
2. К полученному набору целей применяется _подстановка_.

### Чем завершается унификация?
Унификация завершается:
- _успехом_: получаем подстановку;
- _неудачей_: включается механизм _отката_ и происходит поиск другого знания.






## Резольвента
### Что такое резольвента?
__Резольвента__ - конъюнкция целей (утверждений) истинность (выводимость) которых надо доказать.

### Как изменяется резольвента?
Резольвента меняется в два этапа:

1. В текущей резольвенте выбирается одна из _целей_ (по стековому принципу) и для неё выполняется _редукция_.
2. К полученному набору целей применяется _подстановка_.

### Как растет стек в процессе обработки резольвенты?
Стек растёт _влево_. 

## Откат
### Что такое откат?
__Откат__ - возврат к предыдущему шагу.

### Механизм отката
1. Происходит возврат на предыдущий этап преобразования резольвенты.
2. Отменяется последняя выполненная редукция.
3. Выполняется реконкретизация переменных, которые были конкретизированы на последнем шаге.

### Когда происходит откат?
- резольвента пуста
- тупик

### Что такое тупик?
__Тупик__ - решение не найдено, и из данного состояния невозможен переход в новое.

### Когда будет получен ответ `да` и что будет дальше?? (условие получения ответа на вопрос)
Когда резольвента пуста, затем откат.

### Что происходит после нахождения решения?
1. Откат. 
2. Поиск нового решения, пока все метки не окажутся в конце базы знаний.